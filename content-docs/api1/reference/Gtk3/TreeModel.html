---
---
<!doctype html>
<html lang="en">
<head>
<title>Gnome::Gtk3::TreeModel</title>
<meta charset="UTF-8" />

<link href="asset_files/images/favicon.ico" rel="icon" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-extra.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-styling.css" />

</head>
	<body class="pod">
<header><img src="asset_files/images/gtk-raku.png" id="Camelia_bug"><h2 class="title" id="Gnome::Gtk3::TreeModel">Gnome::Gtk3::TreeModel</h2></header><div class="pod-content"><nav><div id="_TOC"><table>
<caption>Table of Contents</caption>
<tr class="toc-level-1"><td class="toc-text"><a href="#Description">Description</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Acquiring_a_Gnome::Gtk3::TreeIter">Acquiring a Gnome::Gtk3::TreeIter</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#See_Also">See Also</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Synopsis">Synopsis</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Declaration">Declaration</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Uml_Diagram">Uml Diagram</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#"></a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Types">Types</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#enum_GtkTreeModelFlags">enum GtkTreeModelFlags</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#class_N-GtkTreeModelIface">class N-GtkTreeModelIface</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Methods">Methods</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_tree_row_reference_new">[gtk_] tree_row_reference_new</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_flags">[[gtk_] tree_model_] get_flags</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_n_columns">[[gtk_] tree_model_] get_n_columns</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_column_type">[[gtk_] tree_model_] get_column_type</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_iter">[[gtk_] tree_model_] get_iter</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_iter_from_string">[[gtk_] tree_model_] get_iter_from_string</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_string_from_iter">[[gtk_] tree_model_] get_string_from_iter</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_iter_first">[[gtk_] tree_model_] get_iter_first</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_path">[[gtk_] tree_model_] get_path</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_value">[[gtk_] tree_model_] get_value</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_previous">[[gtk_] tree_model_] iter_previous</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_next">[[gtk_] tree_model_] iter_next</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_children">[[gtk_] tree_model_] iter_children</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_has_child">[[gtk_] tree_model_] iter_has_child</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_n_children">[[gtk_] tree_model_] iter_n_children</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_nth_child">[[gtk_] tree_model_] iter_nth_child</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_iter_parent">[[gtk_] tree_model_] iter_parent</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_ref_node">[[gtk_] tree_model_] ref_node</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_unref_node">[[gtk_] tree_model_] unref_node</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_tree_model_get">[gtk_] tree_model_get</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_get_valist">[[gtk_] tree_model_] get_valist</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#foreach">foreach</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_row_changed">[[gtk_] tree_model_] row_changed</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_row_inserted">[[gtk_] tree_model_] row_inserted</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_row_has_child_toggled">[[gtk_] tree_model_] row_has_child_toggled</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_row_deleted">[[gtk_] tree_model_] row_deleted</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_rows_reordered">[[gtk_] tree_model_] rows_reordered</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_tree_model_]_rows_reordered_with_length">[[gtk_] tree_model_] rows_reordered_with_length</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Signals">Signals</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#First_method">First method</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Second_method">Second method</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Supported_signals">Supported signals</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#row-changed">row-changed</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#row-deleted">row-deleted</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#row-inserted">row-inserted</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#row-has-child-toggled">row-has-child-toggled</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#rows-reordered">rows-reordered</a></td></tr>
</table></div>
</nav><div id=""></div><div class="pod-body">
<section name="___top"><p>The tree interface used by <strong>Gnome::Gtk3::TreeView</strong></p>
<h1 id="Description"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Description</a></h1>
<p>The <strong>Gnome::Gtk3::TreeModel</strong> interface defines a generic tree interface for use by the <strong>Gnome::Gtk3::TreeView</strong> widget. It is an abstract interface, and is designed to be usable with any appropriate data structure.</p><p>The model is represented as a hierarchical tree of strongly-typed, columned data. In other words, the model can be seen as a tree where every node has different values depending on which column is being queried. The type of data found in a column is determined by using the GType system</p><p>The types are homogeneous per column across all nodes. It is important to note that this interface only provides a way of examining a model and observing changes. The implementation of each individual model decides how and if changes are made.</p><p>In order to make life simpler for programmers who do not need to write their own specialized model, two generic models are provided — the <strong>Gnome::Gtk3::TreeStore</strong> and the <strong>Gnome::Gtk3::ListStore</strong>. To use these, the developer simply pushes data into these models as necessary. These models provide the data structure as well as all appropriate tree interfaces. As a result, implementing drag and drop, sorting, and storing data is trivial. For the vast majority of trees and lists, these two models are sufficient.</p><p>Models are accessed on a node/column level of granularity. One can query for the value of a model at a certain node and a certain column on that node. There are two structures used to reference a particular node in a model. They are the <strong>Gnome::Gtk3::TreePath</strong>-struct and the <strong>Gnome::Gtk3::TreeIter</strong>-struct (“iter” is short for iterator). Most of the interface consists of operations on a <strong>Gnome::Gtk3::TreeIter</strong>-struct.</p><p>A path is essentially a potential node. It is a location on a model that may or may not actually correspond to a node on a specific model. The <strong>Gnome::Gtk3::TreePath</strong>-struct can be converted into either an array of unsigned integers or a string. The string form is a list of numbers separated by a colon. Each number refers to the offset at that level. Thus, the path `0` refers to the root node and the path `2:4` refers to the fifth child of the third node.</p><p>By contrast, a <strong>Gnome::Gtk3::TreeIter</strong> is a reference to a specific node on a specific model. It is a generic struct with an integer and three generic pointers. These are filled in by the model in a model-specific way. One can convert a path to an iterator by calling <code>gtk_tree_model_get_iter()</code>. These iterators are the primary way of accessing a model and are similar to the iterators used by <strong>Gnome::Gtk3::TextBuffer</strong>. They are generally statically allocated on the stack and only used for a short time. The model interface defines a set of operations using them for navigating the model.</p><p>It is expected that models fill in the iterator with private data. For example, the <strong>Gnome::Gtk3::ListStore</strong> model, which is internally a simple linked list, stores a list node in one of the pointers. The <strong>Gnome::Gtk3::TreeModelSort</strong> stores an array and an offset in two of the pointers. Additionally, there is an integer field. This field is generally filled with a unique stamp per model. This stamp is for catching errors resulting from using invalid iterators with a model.</p><p>The lifecycle of an iterator can be a little confusing at first. Iterators are expected to always be valid for as long as the model is unchanged (and doesn’t emit a signal). The model is considered to own all outstanding iterators and nothing needs to be done to free them from the user’s point of view. Additionally, some models guarantee that an iterator is valid for as long as the node it refers to is valid (most notably the <strong>Gnome::Gtk3::TreeStore</strong> and <strong>Gnome::Gtk3::ListStore</strong>). Although generally uninteresting, as one always has to allow for the case where iterators do not persist beyond a signal, some very important performance enhancements were made in the sort model. As a result, the <strong>GTK_TREE_MODEL_ITERS_PERSIST</strong> flag was added to indicate this behavior.</p><p>To help show some common operation of a model, some examples are provided. The first example shows three ways of getting the iter at the location `3:2:5`. While the first method shown is easier, the second is much more common, as you often get paths from callbacks.</p>
<h2 id="Acquiring_a_Gnome::Gtk3::TreeIter"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Acquiring a Gnome::Gtk3::TreeIter</a></h2>
<pre class="pod-block-code"># A ListStore with two columns, an integer and a string
my Gnome::Gtk3::ListStore $ls .= new(:field-types( G_TYPE_INT, G_TYPE_STRING));

# Filling a ListStore needs also an iterator. This on points to the end.
my Gnome::Gtk3::TreeIter $iter = $ls.gtk-list-store-append;
$ls.gtk-list-store-set( $iter, 0, 1001, 1, 'first entry');
$iter = $ls.gtk-list-store-append;
$ls.gtk-list-store-set( $iter, 0, 2002, 1, 'second entry');

# Get the iterator from a string. A ListStore has simple paths.
$iter = $ls.get_iter_from_string(&quot;1&quot;);

# Get the iterator from a path
my Gnome::Gtk3::TreePath $path .= new(:string('0'));
$iter = $ls.get-iter($path);
$path.clear-tree-path;</pre>
<h2 id="See_Also"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">See Also</a></h2>
<p><strong>Gnome::Gtk3::TreeView</strong>, <strong>Gnome::Gtk3::TreeStore</strong>, <strong>Gnome::Gtk3::ListStore</strong>,</p>
<h1 id="Synopsis"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Synopsis</a></h1>

<h2 id="Declaration"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Declaration</a></h2>
<pre class="pod-block-code">unit role Gnome::Gtk3::TreeModel;</pre>
<h2 id="Uml_Diagram"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Uml Diagram</a></h2>
<div class="image-container inline"><img src="asset_files/images/plantuml/TreeModel.svg" width="60%" height="auto" alt="No caption"></div>

<h1 id="Types"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Types</a></h1>

<h2 id="enum_GtkTreeModelFlags"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">enum GtkTreeModelFlags</a></h2>
<p>These flags indicate various properties of a <strong>Gnome::Gtk3::TreeModel</strong>.</p><p>They are returned by <code>gtk_tree_model_get_flags()</code>, and must be static for the lifetime of the object. A more complete description of <strong>GTK_TREE_MODEL_ITERS_PERSIST</strong> can be found in the overview of this section.</p><ul>
<li><p>GTK_TREE_MODEL_ITERS_PERSIST: iterators survive all signals emitted by the tree</p></li>
<li><p>GTK_TREE_MODEL_LIST_ONLY: the model is a list only, and never has children</p></li>
</ul>

<h2 id="class_N-GtkTreeModelIface"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">class N-GtkTreeModelIface</a></h2>
<ul>
<li><p>___row_changed: Signal emitted when a row in the model has changed.</p></li>
<li><p>___row_inserted: Signal emitted when a new row has been inserted in the model.</p></li>
<li><p>___row_has_child_toggled: Signal emitted when a row has gotten the first child row or lost its last child row.</p></li>
<li><p>___row_deleted: Signal emitted when a row has been deleted.</p></li>
<li><p>___rows_reordered: Signal emitted when the children of a node in the <strong>Gnome::Gtk3::TreeModel</strong> have been reordered.</p></li>
<li><p>___get_flags: Get <strong>Gnome::Gtk3::TreeModelFlags</strong> supported by this interface.</p></li>
<li><p>___get_n_columns: Get the number of columns supported by the model.</p></li>
<li><p>___get_column_type: Get the type of the column.</p></li>
<li><p>___get_iter: Sets iter to a valid iterator pointing to path.</p></li>
<li><p>___get_path: Gets a newly-created <strong>Gnome::Gtk3::TreePath</strong> referenced by iter.</p></li>
<li><p>___get_value: Initializes and sets value to that at column.</p></li>
<li><p>___iter_next: Sets iter to point to the node following it at the current level.</p></li>
<li><p>___iter_previous: Sets iter to point to the previous node at the current level.</p></li>
<li><p>___iter_children: Sets iter to point to the first child of parent.</p></li>
<li><p>___iter_has_child: <code>1</code> if iter has children, <code>0</code> otherwise.</p></li>
<li><p>___iter_n_children: Gets the number of children that iter has.</p></li>
<li><p>___iter_nth_child: Sets iter to be the child of parent, using the given index.</p></li>
<li><p>___iter_parent: Sets iter to be the parent of child.</p></li>
<li><p>___ref_node: Lets the tree ref the node.</p></li>
<li><p>___unref_node: Lets the tree unref the node.</p></li>
</ul>

<h1 id="Methods"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Methods</a></h1>

<h2 id="[gtk_]_tree_row_reference_new"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[gtk_] tree_row_reference_new</a></h2>
<p>Creates a row reference based on <em>$path</em>.</p><p>This reference will keep pointing to the node pointed to by <em>$path</em>, so long as it exists. Any changes that occur on <em>$model</em> are propagated, and the path is updated appropriately. If <em>$path</em> isn’t a valid path in <em>$model</em>, then <code>Any</code> is returned.</p><p>Returns: a newly allocated <strong>Gnome::Gtk3::TreeRowReference</strong>, or <code>Any</code></p><pre class="pod-block-code">method gtk_tree_row_reference_new (
  N-GtkTreePath $path --&gt; N-GtkTreeRowReference
)</pre><ul>
<li><p>N-GtkTreePath $path; a valid <strong>Gnome::Gtk3::TreePath</strong>-struct to monitor</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_flags"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_flags</a></h2>
<p>Returns a set of flags supported by this interface.</p><p>The flags are a bitwise combination of enum values of <strong>GtkTreeModelFlags</strong>. The flags supported should not change during the lifetime of the <em>tree_model</em>.</p><p>Returns: the flags supported by this interface</p><pre class="pod-block-code">method gtk_tree_model_get_flags ( --&gt; GtkTreeModelFlags  )</pre>
<h2 id="[[gtk_]_tree_model_]_get_n_columns"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_n_columns</a></h2>
<p>Returns the number of columns supported by <em>tree_model</em>.</p><pre class="pod-block-code">method gtk_tree_model_get_n_columns ( --&gt; Int  )</pre>
<h2 id="[[gtk_]_tree_model_]_get_column_type"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_column_type</a></h2>
<p>Returns the type of the column.</p><pre class="pod-block-code">method gtk_tree_model_get_column_type ( Int $index --&gt; UInt )</pre><ul>
<li><p>Int $index; the column index</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_iter"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_iter</a></h2>
<p>Returns a valid iterator pointing to <em>$path</em>. If <em>$path</em> does not exist, an invalid iterator is returned. Test with <code>.tree-iter-is-valid()</code> to see if the iterator is ok.</p><pre class="pod-block-code">method gtk_tree_model_get_iter (
  Gnome::Gtk3::TreePath $path
  --&gt; Gnome::Gtk3::TreeIter
)</pre><ul>
<li><p>Gnome::Gtk3::TreePath $path; The path to point the iterator to.</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_iter_from_string"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_iter_from_string</a></h2>
<p>Returns a valid iterator pointing to <em>$path_string</em>, if it exists. Otherwise, an invalid iterator is returned. Test with <code>.tree-iter-is-valid()</code> to see if the iterator is ok.</p><pre class="pod-block-code">method gtk_tree_model_get_iter_from_string (
  Str $path_string
  --&gt; N-GtkTreeIter
)</pre><ul>
<li><p>Str $path_string; a string representation of a <strong>Gnome::Gtk3::TreePath</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_string_from_iter"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_string_from_iter</a></h2>
<p>Generates a string representation of the iter.</p><p>This string is a “:” separated list of numbers. For example, “4:10:0:3” would be an acceptable return value for this string.</p><p>Returns: a newly-allocated string.</p><p>Since: 2.2</p><pre class="pod-block-code">method gtk_tree_model_get_string_from_iter ( N-GtkTreeIter $iter --&gt; Str  )</pre><ul>
<li><p>N-GtkTreeIter $iter; a <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_iter_first"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_iter_first</a></h2>
<p>Initializes <em>iter</em> with the first iterator in the tree (the one at the path &quot;0&quot;). Returns an invalid iterator if the tree is empty.</p><pre class="pod-block-code">method gtk_tree_model_get_iter_first ( --&gt; Gnome::Gtk3::TreeIter  )</pre>
<h2 id="[[gtk_]_tree_model_]_get_path"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_path</a></h2>
<p>Returns a newly-created <strong>Gnome::Gtk3::TreePath</strong> referenced by <em>$iter</em>.</p><p>This path should be freed with <code>.clear-tree-path()</code>.</p><pre class="pod-block-code">method gtk_tree_model_get_path (
  Gnome::Gtk3::TreeIter $iter
  --&gt; Gnome::Gtk3::TreePath
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $iter; the iterator</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_value"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_value</a></h2>
<p>Returns an array of values found at the <em>$iter</em> and <em>$column</em>s.</p><p>When done with each <em>value</em>, <code>.clear-object()</code> needs to be called to free any allocated memory.</p><pre class="pod-block-code">method gtk_tree_model_get_value (
  Gnome::Gtk3::TreeIter $iter, Int $column, ...
  --&gt; Array[Gnome::GObject::Value]
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $iter; the iterator</p></li>
<li><p>Int $column; the column to lookup the value at</p></li>
<li><p>N-GObject $value; (out) (transfer none): an empty <strong>GValue</strong> to set</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_previous"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_previous</a></h2>
<p>Sets <em>$iter</em> to point to the previous node at the current level.</p><p>If there is no previous <em>iter</em>, <code>0</code> is returned and <em>iter</em> is set to be invalid.</p><p>Returns: <code>1</code> if <em>iter</em> has been changed to the previous node</p><p>Since: 3.0</p><pre class="pod-block-code">method gtk_tree_model_iter_previous ( N-GtkTreeIter $iter --&gt; Int  )</pre><ul>
<li><p>N-GtkTreeIter $iter; (in): the <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_next"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_next</a></h2>
<p>Sets <em>iter</em> to point to the node following it at the current level.</p><p>If there is no next <em>iter</em>, <code>0</code> is returned and <em>iter</em> is set to be invalid.</p><p>Returns: <code>1</code> if <em>iter</em> has been changed to the next node</p><pre class="pod-block-code">method gtk_tree_model_iter_next ( N-GtkTreeIter $iter --&gt; Int  )</pre><ul>
<li><p>N-GtkTreeIter $iter; (in): the <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_children"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_children</a></h2>
<p>Returns an iterator to point to the first child of <em>$parent</em>. <strong>Gnome::Gtk3::ListStore</strong> does not have children but a <strong>Gnome::Gtk3::TreeStore</strong> does.</p><p>If <em>$parent</em> has no children, an invalid iterator is returned. <em>$parent</em> will remain a valid node after this function has been called.</p><pre class="pod-block-code">method gtk_tree_model_iter_children (
  Gnome::Gtk3::TreeIter $parent
  --&gt; Gnome::Gtk3::TreeIter
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $parent; an iterator pointing to a parent.</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_has_child"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_has_child</a></h2>
<p>Returns <code>1</code> if <em>$iter</em> has children, <code>0</code> otherwise.</p><pre class="pod-block-code">method gtk_tree_model_iter_has_child (
  Gnome::Gtk3::TreeIter $iter
  --&gt; Int
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $iter; iterator to test for children</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_n_children"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_n_children</a></h2>
<p>Returns the number of children that <em>iter</em> has. As a special case, if <em>iter</em> is undefined, then the number of toplevel nodes is returned.</p><pre class="pod-block-code">method gtk_tree_model_iter_n_children (
  Gnome::Gtk3::TreeIter $iter?
  --&gt; Int
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $iter; the iterator</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_nth_child"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_nth_child</a></h2>
<p>Returns an iterator to be the child of <em>$parent</em>, using the given index.</p><p>The first index is 0. If <em>$n</em> is too big, or <em>$parent</em> has no children, the returned iterator is invalid. <em>$parent</em> will remain a valid node after this function has been called. As a special case, if <em>$parent</em> is undefined, then the iterator is set to the <em>$n</em>-th root node is set.</p><pre class="pod-block-code">method gtk_tree_model_iter_nth_child (
  Gnome::Gtk3::TreeIter $parent, Int $n
  --&gt; Gnome::Gtk3::TreeIter
)</pre><ul>
<li><p>Gnome::Gtk3::TreeIter $parent; the parent iterator to get the child from, or <code>Any</code>.</p></li>
<li><p>Int $n; the index of the desired child</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_iter_parent"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] iter_parent</a></h2>
<p>Sets <em>iter</em> to be the parent of <em>child</em>.</p><p>If <em>child</em> is at the toplevel, and doesn’t have a parent, then <em>iter</em> is set to an invalid iterator and <code>0</code> is returned. <em>child</em> will remain a valid node after this function has been called.</p><p><em>iter</em> will be initialized before the lookup is performed, so <em>child</em> and <em>iter</em> cannot point to the same memory location.</p><p>Returns: <code>1</code>, if <em>iter</em> is set to the parent of <em>child</em></p><pre class="pod-block-code">method gtk_tree_model_iter_parent ( N-GtkTreeIter $iter, N-GtkTreeIter $child --&gt; Int  )</pre><ul>
<li><p>N-GtkTreeIter $iter; (out): the new <strong>Gnome::Gtk3::TreeIter</strong>-struct to set to the parent</p></li>
<li><p>N-GtkTreeIter $child; the <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_ref_node"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] ref_node</a></h2>
<p>Lets the tree ref the node.</p><p>This is an optional method for models to implement. To be more specific, models may ignore this call as it exists primarily for performance reasons.</p><p>This function is primarily meant as a way for views to let caching models know when nodes are being displayed (and hence, whether or not to cache that node). Being displayed means a node is in an expanded branch, regardless of whether the node is currently visible in the viewport. For example, a file-system based model would not want to keep the entire file-hierarchy in memory, just the sections that are currently being displayed by every current view.</p><p>A model should be expected to be able to get an iter independent of its reffed state.</p><pre class="pod-block-code">method gtk_tree_model_ref_node ( N-GtkTreeIter $iter )</pre><ul>
<li><p>N-GtkTreeIter $iter; the <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_unref_node"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] unref_node</a></h2>
<p>Lets the tree unref the node.</p><p>This is an optional method for models to implement. To be more specific, models may ignore this call as it exists primarily for performance reasons. For more information on what this means, see <code>gtk_tree_model_ref_node()</code>.</p><p>Please note that nodes that are deleted are not unreffed.</p><pre class="pod-block-code">method gtk_tree_model_unref_node ( N-GtkTreeIter $iter )</pre><ul>
<li><p>N-GtkTreeIter $iter; the <strong>Gnome::Gtk3::TreeIter</strong>-struct</p></li>
</ul>

<h2 id="[gtk_]_tree_model_get"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[gtk_] tree_model_get</a></h2>
<p>Gets the value of a cell in the row referenced by <em>$iter</em>. (Note that the API is not the same as it is shown on the GTK developers site!)</p><pre class="pod-block-code">method gtk_tree_model_get (
  N-GtkTreeIter $iter, Int $column-gtype, $column-number, ...
  --&gt; Any
)</pre><ul>
<li><p>N-GtkTreeIter $iter; a row in this tree_model</p></li>
<li><p>Int $column-number: column numbers of wanted values</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_get_valist"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] get_valist</a></h2>
<p>See <code>gtk_tree_model_get()</code>, this version takes a va_list for language bindings to use.</p><pre class="pod-block-code">method gtk_tree_model_get_valist ( N-GtkTreeIter $iter, va_list $var_args )</pre><ul>
<li><p>N-GtkTreeIter $iter; a row in <em>tree_model</em></p></li>
<li><p>va_list $var_args; va_list of column/return location pairs</p></li>
</ul>

<h2 id="foreach"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">foreach</a></h2>
<p>Calls func on each node in model in a depth-first fashion.</p><p>If <em>func</em> returns <code>1</code>, then the tree ceases to be walked, and <code>foreach()</code> returns.</p><pre class="pod-block-code">method foreach (
  $function-object, Str $function-name, *%user-options
)</pre><ul>
<li><p>$function-object; an object where the function is defined</p></li>
<li><p>$function-name; the name of the function which is called</p></li>
<li><p>%user-options; named arguments which will be provided to the callback</p></li>
</ul>
<p>The function signature is</p><pre class="pod-block-code">method f (
  N-GObject $n-store,
  Gnome::Gtk3::TreePath $path,
  Gnome::Gtk3::TreeIter $iter,
  *%user-options
  --&gt; Bool
)</pre><p>The value in $n-store is a native object and cannot be created into a Raku object here because it is not known if this is a ListStore or a TreeStore object.</p><p>An example</p><pre class="pod-block-code">my Gnome::Gtk3::ListStore $ls;
my Gnome::Gtk3::TreeIter $iter;

# specify column types
$ls .= new(:field-types( G_TYPE_INT, G_TYPE_STRING));

# fill some rows
$iter = $ls.gtk-list-store-append;
$ls.gtk-list-store-set( $iter, 0, 1001, 1, 'some text');
$iter = $ls.gtk-list-store-append;
$ls.gtk-list-store-set( $iter, 0, 2002, 1, 'a bit more');

# define class for handler
class X {
  method row-loop (
    N-GObject $n-store,
    Gnome::Gtk3::TreePath $path,
    Gnome::Gtk3::TreeIter $iter
    --&gt; Bool
  ) {
    # get values for this iterator
    my Gnome::Gtk3::ListStore $store .= new(:native-object($n-store));
    my Array[Gnome::GObject::Value] $va = $store.get-value( $iter, 0);

    # do something with this row ...

    my Int $value = $va[0].get-int;
    $va[0].clear-object;

    if $value of col 0 != 1001 {
      # let the search continue
      False
    }

    # value of col 0 == 1001
    else {
      # stop walking to the next row
      True
    }
  }
}

$ls.foreach( X.new, 'row-loop');</pre>
<h2 id="[[gtk_]_tree_model_]_row_changed"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] row_changed</a></h2>
<p>Emits the <em>row-changed</em> signal on the tree model.</p><pre class="pod-block-code">method gtk_tree_model_row_changed (
  Gnome::Gtk3::TreePath $path,
  Gnome::Gtk3::TreeIter $iter
)</pre><ul>
<li><p>Gnome::Gtk3::TreePath $path; a path pointing to the changed row</p></li>
<li><p>Gnome::Gtk3::TreeIter $iter; an iterator pointing to the changed row</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_row_inserted"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] row_inserted</a></h2>
<p>Emits the <em>row-inserted</em> signal on the tree model.</p><pre class="pod-block-code">method gtk_tree_model_row_inserted (
  Gnome::Gtk3::TreePath $path,
  Gnome::Gtk3::TreeIter $iter
)</pre><ul>
<li><p>Gnome::Gtk3::TreePath $path; a path pointing to the changed row</p></li>
<li><p>Gnome::Gtk3::TreeIter $iter; an iterator pointing to the changed row</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_row_has_child_toggled"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] row_has_child_toggled</a></h2>
<p>Emits the <em>row-has-child-toggled</em> signal on <em>tree_model</em>. This should be called by models after the child state of a node changes.</p><pre class="pod-block-code">method gtk_tree_model_row_has_child_toggled ( N-GtkTreePath $path, N-GtkTreeIter $iter )</pre><ul>
<li><p>N-GtkTreePath $path; a <strong>Gnome::Gtk3::TreePath</strong>-struct pointing to the changed row</p></li>
<li><p>N-GtkTreeIter $iter; a valid <strong>Gnome::Gtk3::TreeIter</strong>-struct pointing to the changed row</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_row_deleted"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] row_deleted</a></h2>
<p>Emits the <em>row-deleted</em> signal on <em>tree_model</em>.</p><p>This should be called by models after a row has been removed. The location pointed to by <em>path</em> should be the location that the row previously was at. It may not be a valid location anymore.</p><p>Nodes that are deleted are not unreffed, this means that any outstanding references on the deleted node should not be released.</p><pre class="pod-block-code">method gtk_tree_model_row_deleted ( N-GtkTreePath $path )</pre><ul>
<li><p>N-GtkTreePath $path; a <strong>Gnome::Gtk3::TreePath</strong>-struct pointing to the previous location of the deleted row</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_rows_reordered"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] rows_reordered</a></h2>
<p>Emits the <em>rows-reordered</em> signal on <em>tree_model</em>.</p><p>This should be called by models when their rows have been reordered.</p><pre class="pod-block-code">method gtk_tree_model_rows_reordered ( N-GtkTreePath $path, N-GtkTreeIter $iter, Int $new_order )</pre><ul>
<li><p>N-GtkTreePath $path; a <strong>Gnome::Gtk3::TreePath</strong>-struct pointing to the tree node whose children have been reordered</p></li>
<li><p>N-GtkTreeIter $iter; a valid <strong>Gnome::Gtk3::TreeIter</strong>-struct pointing to the node whose children have been reordered, or <code>Any</code> if the depth of <em>path</em> is 0</p></li>
<li><p>Int $new_order; an array of integers mapping the current position of each child to its old position before the re-ordering, i.e. <em>new_order</em>`[newpos] = oldpos`</p></li>
</ul>

<h2 id="[[gtk_]_tree_model_]_rows_reordered_with_length"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">[[gtk_] tree_model_] rows_reordered_with_length</a></h2>
<p>Emits the <em>rows-reordered</em> signal on <em>tree_model</em>.</p><p>This should be called by models when their rows have been reordered.</p><p>Since: 3.10</p><pre class="pod-block-code">method gtk_tree_model_rows_reordered_with_length ( N-GtkTreePath $path, N-GtkTreeIter $iter, Int $new_order, Int $length )</pre><ul>
<li><p>N-GtkTreePath $path; a <strong>Gnome::Gtk3::TreePath</strong>-struct pointing to the tree node whose children have been reordered</p></li>
<li><p>N-GtkTreeIter $iter; (allow-none): a valid <strong>Gnome::Gtk3::TreeIter</strong>-struct pointing to the node whose children have been reordered, or <code>Any</code> if the depth of <em>path</em> is 0</p></li>
<li><p>Int $new_order; (array length=length): an array of integers mapping the current position of each child to its old position before the re-ordering, i.e. <em>new_order</em>`[newpos] = oldpos`</p></li>
<li><p>Int $length; length of <em>new_order</em> array</p></li>
</ul>

<h1 id="Signals"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Signals</a></h1>
<p>There are two ways to connect to a signal. The first option you have is to use <code>register-signal()</code> from <strong>Gnome::GObject::Object</strong>. The second option is to use <code>g_signal_connect_object()</code> directly from <strong>Gnome::GObject::Signal</strong>.</p>
<h2 id="First_method"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">First method</a></h2>
<p>The positional arguments of the signal handler are all obligatory as well as their types. The named attributes <code>:$widget</code> and user data are optional.</p><pre class="pod-block-code"># handler method
method mouse-event ( N-GdkEvent $event, :$widget ) { ... }

# connect a signal on window object
my Gnome::Gtk3::Window $w .= new( ... );
$w.register-signal( self, 'mouse-event', 'button-press-event');</pre>
<h2 id="Second_method"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Second method</a></h2>
<pre class="pod-block-code">my Gnome::Gtk3::Window $w .= new( ... );
my Callable $handler = sub (
  N-GObject $native, N-GdkEvent $event, OpaquePointer $data
) {
  ...
}

$w.connect-object( 'button-press-event', $handler);</pre><p>Also here, the types of positional arguments in the signal handler are important. This is because both methods <code>register-signal()</code> and <code>g_signal_connect_object()</code> are using the signatures of the handler routines to setup the native call interface.</p>
<h2 id="Supported_signals"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">Supported signals</a></h2>

<h3 id="row-changed"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">row-changed</a></h3>
<p>This signal is emitted when a row in the model has changed.</p><pre class="pod-block-code">method handler (
  N-GObject $path,
  N-GtkTreeIter $iter,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($tree_model),
  *%user-options
);</pre><ul>
<li><p>Gnome::Gtk3::TreeModel $tree_model; the model on which the signal is emitted</p></li>
<li><p>N-GObject $path; a native <strong>Gnome::Gtk3::TreePath</strong> identifying the changed row</p></li>
<li><p>N-GtkTreeIter $iter; a native <strong>Gnome::Gtk3::TreeIter</strong> pointing to the changed row</p></li>
</ul>

<h3 id="row-deleted"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">row-deleted</a></h3>
<p>This signal is emitted when a row in the model is deleted.</p><pre class="pod-block-code">method handler (
  N-GObject $path,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($tree_model),
  *%user-options
);</pre><ul>
<li><p>Gnome::Gtk3::TreeModel $tree_model; the model on which the signal is emitted.</p></li>
<li><p>N-GObject $path; a native <strong>Gnome::Gtk3::TreePath</strong> identifying where the deleted row has been at. This path may not be a valid location anymore.</p></li>
</ul>

<h3 id="row-inserted"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">row-inserted</a></h3>
<p>This signal is emitted when a new row has been inserted in the model.</p><p>Note that the row may still be empty at this point, since it is a common pattern to first insert an empty row, and then fill it with the desired values.</p><pre class="pod-block-code">method handler (
  N-GObject $path,
  N-GtkTreeIter $iter,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($tree_model),
  *%user-options
);</pre><ul>
<li><p>Gnome::Gtk3::TreeModel $tree_model; the model on which the signal is emitted</p></li>
<li><p>$path; a native <strong>Gnome::Gtk3::TreePath</strong> identifying the new row</p></li>
<li><p>$iter; a native <strong>Gnome::Gtk3::TreeIter</strong> pointing to the new row</p></li>
</ul>

<h3 id="row-has-child-toggled"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">row-has-child-toggled</a></h3>
<p>This signal is emitted when a row has gotten the first child row or lost its last child row.</p><pre class="pod-block-code">method handler (
  N-GObject $path,
  N-GtkTreeIter $iter,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($tree_model),
  *%user-options
);</pre><ul>
<li><p>Gnome::Gtk3::TreeModel $tree_model; the model on which the signal is emitted</p></li>
<li><p>$path; a native <strong>Gnome::Gtk3::TreePath</strong> identifying the new row</p></li>
<li><p>$iter; a native <strong>Gnome::Gtk3::TreeIter</strong> pointing to the new row</p></li>
</ul>

<h3 id="rows-reordered"><a href="#Gnome::Gtk3::TreeModel" class="u" title="go to top of document">rows-reordered</a></h3>
<p>This signal is emitted when the children of a node in the GtkTreeModel have been reordered.</p><p>Note that this signal is not emitted when rows are reordered by DND, since this is implemented by removing and then reinserting the row.</p><pre class="pod-block-code">method handler (
  N-GObject $path,
  N-GtkTreeIter $iter,
  CArray[int32] $new-order,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($tree_model),
  *%user-options
);</pre><ul>
<li><p>Gnome::Gtk3::TreeModel $tree_model; the model on which the signal is emitted</p></li>
<li><p>$path; a native <strong>Gnome::Gtk3::TreePath</strong> identifying the new row</p></li>
<li><p>$iter; a native <strong>Gnome::Gtk3::TreeIter</strong> pointing to the new row</p></li>
<li><p>$new-order; an array of integers mapping the current position of each child to its old position before the re-ordering, i.e. <code>$new_order[newpos] = oldpos</code>.</p></li>
</ul>
</section>		</div>
</div><footer><div>Rendered from <span class="path">/home/marcel/Languages/Raku/Projects/gnome-api1/gnome-gtk3/lib/Gnome/Gtk3/TreeModel.rakumod</span></div><div>at <span class="time">2025-07-19T14:13:30Z</span></div></footer>
	</body>
</html>
