---
---
<!doctype html>
<html lang="en">
<head>
<title>Gnome::Gtk3::Menu</title>
<meta charset="UTF-8" />

<link href="asset_files/images/favicon.ico" rel="icon" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-extra.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-styling.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/font-awesome.min.css" />

</head>
	<body class="pod">
<header><img src="asset_files/images/gtk-raku.png" id="Camelia_bug"><h2 class="title" id="Gnome::Gtk3::Menu">Gnome::Gtk3::Menu</h2></header><div class="pod-content"><nav><div id="_TOC"><table>
<caption>Table of Contents</caption>
<tr class="toc-level-1"><td class="toc-text"><a href="#Description">Description</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Connecting_the_popup_signal_handler.">Connecting the popup signal handler.</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Css_Nodes">Css Nodes</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Synopsis">Synopsis</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Declaration">Declaration</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Types">Types</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#enum_GtkArrowPlacement">enum GtkArrowPlacement</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Methods">Methods</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#new">new</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_menu_new">[gtk_] menu_new</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_new_from_model">[[gtk_] menu_] new_from_model</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_popup_at_rect">[[gtk_] menu_] popup_at_rect</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_popup_at_widget">[[gtk_] menu_] popup_at_widget</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#"></a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_popup_at_pointer">[[gtk_] menu_] popup_at_pointer</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_menu_reposition">[gtk_] menu_reposition</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_menu_popdown">[gtk_] menu_popdown</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_active">[[gtk_] menu_] get_active</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_active">[[gtk_] menu_] set_active</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_accel_group">[[gtk_] menu_] set_accel_group</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_accel_group">[[gtk_] menu_] get_accel_group</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_accel_path">[[gtk_] menu_] set_accel_path</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_accel_path">[[gtk_] menu_] get_accel_path</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_attach_to_widget">[[gtk_] menu_] attach_to_widget</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_menu_detach">[gtk_] menu_detach</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_attach_widget">[[gtk_] menu_] get_attach_widget</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_reorder_child">[[gtk_] menu_] reorder_child</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_screen">[[gtk_] menu_] set_screen</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[gtk_]_menu_attach">[gtk_] menu_attach</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_monitor">[[gtk_] menu_] set_monitor</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_monitor">[[gtk_] menu_] get_monitor</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_place_on_monitor">[[gtk_] menu_] place_on_monitor</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_for_attach_widget">[[gtk_] menu_] get_for_attach_widget</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_set_reserve_toggle_size">[[gtk_] menu_] set_reserve_toggle_size</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#[[gtk_]_menu_]_get_reserve_toggle_size">[[gtk_] menu_] get_reserve_toggle_size</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Signals">Signals</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#First_method">First method</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Second_method">Second method</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Supported_signals">Supported signals</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#move-scroll">move-scroll</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#popped-up">popped-up</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#"></a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Properties">Properties</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Supported_properties">Supported properties</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Active">Active</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Accel_Group">Accel Group</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Accel_Path">Accel Path</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Attach_Widget">Attach Widget</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Monitor">Monitor</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Reserve_Toggle_Size">Reserve Toggle Size</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Anchor_hints">Anchor hints</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#For_example,_gdk_anchor_flip_y_will_replace_gdk_gravity_north_west_with_gdk_gravity_south_west_and_vice_versa_if_the_menu_extends_beyond_the_bottom_edge_of_the_monitor._see_gtk_menu_popup_at_rect(),_gtk_menu_popup_at_widget(),_gtk_menu_popup_at_pointer(),_rect-anchor-dx,_rect-anchor-dy,_menu-type-hint,_and_popped-up.">For example, gdk_anchor_flip_y will replace gdk_gravity_north_west with gdk_gravity_south_west and vice versa if the menu extends beyond the bottom edge of the monitor. see gtk_menu_popup_at_rect(), gtk_menu_popup_at_widget(), gtk_menu_popup_at_pointer(), rect-anchor-dx, rect-anchor-dy, menu-type-hint, and popped-up.</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Rect_anchor_dx">Rect anchor dx</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Rect_anchor_dy">Rect anchor dy</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Menu_type_hint">Menu type hint</a></td></tr>
</table></div>
</nav><div id=""></div><div class="pod-body">
<section name="___top"><p>A menu widget</p>
<h1 id="Description"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Description</a></h1>
<p>A <strong>Gnome::Gtk3::Menu</strong> is a <strong>Gnome::Gtk3::MenuShell</strong> that implements a drop down menu consisting of a list of <strong>Gnome::Gtk3::MenuItem</strong> objects which can be navigated and activated by the user to perform application functions.</p><p>A <strong>Gnome::Gtk3::Menu</strong> is most commonly dropped down by activating a <strong>Gnome::Gtk3::MenuItem</strong> in a <strong>Gnome::Gtk3::MenuBar</strong> or popped up by activating a <strong>Gnome::Gtk3::MenuItem</strong> in another <strong>Gnome::Gtk3::Menu</strong>.</p><p>A <strong>Gnome::Gtk3::Menu</strong> can also be popped up by activating a <strong>Gnome::Gtk3::ComboBox</strong>. Other composite widgets such as the <strong>Gnome::Gtk3::Notebook</strong> can pop up a <strong>Gnome::Gtk3::Menu</strong> as well.</p><p>Applications can display a <strong>Gnome::Gtk3::Menu</strong> as a popup menu by calling the <code>gtk_menu_popup()</code> function. The example below shows how an application can pop up a menu when the 3rd mouse button is pressed.</p>
<h2 id="Connecting_the_popup_signal_handler."><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Connecting the popup signal handler.</a></h2>
<pre class="pod-block-code">class HandlerClass {

  method popup-handler (
    N-GdkEvent $event, Gnome::Gtk3::Window :widget($window), :$menu
    --&gt; Int
  ) {

    my Int $ret-value = 0;

    if $event.event-any.type ~~ GDK_BUTTON_PRESS {
      my N-GdkEventButton $event-button = $event;
      if $event-button.button ~~ GDK_BUTTON_SECONDARY {

        $menu.pop-at-widget(
          $window, GDK_GRAVITY_SOUTH, GDK_GRAVITY_CENTER, $event
        );

        $ret-value = 1;
      }
    }

    $ret-value
  }
}

# Setup the menu
my Gnome::Gtk3::Menu $menu .= new;
...

# Create a window and register a handler for the button press signal
my Gnome::Gtk3::Window $w .= new(:title('My Window'));
$w.register-signal(
  HandlerClass.new, 'popup-handler', 'button_press_event', :$menu
);</pre>
<h2 id="Css_Nodes"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Css Nodes</a></h2>
<pre class="pod-block-code">menu
├── arrow.top
├── &lt;child&gt;
┊
├── &lt;child&gt;
╰── arrow.bottom</pre><p>The main CSS node of <strong>Gnome::Gtk3::Menu</strong> has name <strong>menu</strong>, and there are two subnodes with name arrow, for scrolling menu arrows. These subnodes get the .top and .bottom style classes.</p>
<h1 id="Synopsis"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Synopsis</a></h1>

<h2 id="Declaration"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Declaration</a></h2>
<pre class="pod-block-code">unit class Gnome::Gtk3::Menu;
also is Gnome::Gtk3::MenuShell;</pre>
<h1 id="Types"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Types</a></h1>

<h2 id="enum_GtkArrowPlacement"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">enum GtkArrowPlacement</a></h2>
<p>Used to specify the placement of scroll arrows in scrolling menus.</p><ul>
<li><p>GTK_ARROWS_BOTH: Place one arrow on each end of the menu.</p></li>
<li><p>GTK_ARROWS_START: Place both arrows at the top of the menu.</p></li>
<li><p>GTK_ARROWS_END: Place both arrows at the bottom of the menu.</p></li>
</ul>

<h1 id="Methods"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Methods</a></h1>

<h2 id="new"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">new</a></h2>
<p>Create a new plain object.</p><pre class="pod-block-code">multi method new ( )</pre><p>Create an object using a native object from elsewhere. See also <strong>Gnome::GObject::Object</strong>.</p><pre class="pod-block-code">multi method new ( N-GObject :$native-object! )</pre><p>Create an object using a native object from a builder. See also <strong>Gnome::GObject::Object</strong>.</p><pre class="pod-block-code">multi method new ( Str :$build-id! )</pre>
<h2 id="[gtk_]_menu_new"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[gtk_] menu_new</a></h2>
<p>Creates a new <strong>Gnome::Gtk3::Menu</strong></p><p>Returns: a new <strong>Gnome::Gtk3::Menu</strong></p><pre class="pod-block-code">method gtk_menu_new ( --&gt; N-GObject  )</pre>
<h2 id="[[gtk_]_menu_]_new_from_model"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] new_from_model</a></h2>
<p>Creates a <strong>Gnome::Gtk3::Menu</strong> and populates it with menu items and submenus according to <em>$model</em>.</p><p>The created menu items are connected to actions found in the <strong>Gnome::Gtk3::ApplicationWindow</strong> to which the menu belongs - typically by means of being attached to a widget (see <code>gtk_menu_attach_to_widget()</code>) that is contained within the <strong>Gnome::Gtk3::ApplicationWindows</strong> widget hierarchy.</p><p>Actions can also be added using <code>gtk_widget_insert_action_group()</code> on the menu's attach widget or on any of its parent widgets.</p><p>Returns: a new <strong>Gnome::Gtk3::Menu</strong></p><pre class="pod-block-code">method gtk_menu_new_from_model ( N-GObject $model --&gt; N-GObject  )</pre><ul>
<li><p>N-GObject $model; a <strong>GMenuModel</strong></p></li>
</ul>

<h2 id="[[gtk_]_menu_]_popup_at_rect"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] popup_at_rect</a></h2>
<p>Displays <em>$menu</em> and makes it available for selection.</p><p>See <code>gtk_menu_popup_at_widget()</code> and <code>gtk_menu_popup_at_pointer()</code>, which handle more common cases for popping up menus.</p><p>The menu will be positioned at <em>$rect</em>, aligning their anchor points. <em>$rect</em> is relative to the top-left corner of <em>$rect_window</em>. <em>$rect_anchor</em> and <em>$menu_anchor</em> determine anchor points on <em>$rect</em> and <em>$menu</em> to pin together. <em>$menu</em> can optionally be offset by <em>$rect-anchor-dx</em> and <em>$rect-anchor-dy</em>.</p><p>Anchors should be specified under the assumption that the text direction is left-to-right; they will be flipped horizontally automatically if the text direction is right-to-left.</p><p>Other properties that influence the behaviour of this function are <em>anchor-hints</em> and <em>menu-type-hint</em>. Connect to the <em>popped-up</em> signal to find out how it was actually positioned.</p><pre class="pod-block-code">method gtk_menu_popup_at_rect (
  N-GObject $rect_window, N-GdkRectangle $rect,
  GdkGravity $rect_anchor, GdkGravity $menu_anchor,
  N-GdkEvent $trigger_event
)</pre><ul>
<li><p>N-GObject $rect_window; the <strong>Gnome::Gdk3::Window</strong> <em>$rect</em> is relative to</p></li>
<li><p>N-GObject $rect; the <strong>Gnome::Gdk3::Rectangle</strong> to align the <em>menu</em> with</p></li>
<li><p>GdkGravity $rect_anchor; the point on <em>$rect</em> to align with <em>menu</em>'s anchor point</p></li>
<li><p>GdkGravity $menu_anchor; the point on <em>menu</em> to align with <em>rect</em>'s anchor point</p></li>
<li><p>N-GdkEvent $trigger_event; the <strong>Gnome::Gdk3::Event</strong> that initiated this request or undefined if it's the current event</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_popup_at_widget"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] popup_at_widget</a></h2>
<p>Displays the <em>menu</em> and makes it available for selection.</p><div class="image-container inline"><img src="asset_files/images/popup-anchors.png" width="30%" height="auto" alt="No caption"></div>
<p>The menu will be positioned at <em>$widget</em>, aligning their anchor points. <em>$widget_anchor</em> and <em>$menu_anchor</em> determine anchor points on <em>$widget</em> and the menu to pin together.</p><p>Anchors should be specified under the assumption that the text direction is left-to-right; they will be flipped horizontally automatically if the text direction is right-to-left.</p><p>Other properties that influence the behaviour of this function are <em>anchor-hints</em> and <em>menu-type-hint</em>. Connect to the <em>popped-up</em> signal to find out how it was actually positioned.</p><pre class="pod-block-code">method gtk_menu_popup_at_widget (
  N-GObject $widget, GdkGravity $widget_anchor,
  GdkGravity $menu_anchor, N-GdkEvent $trigger_event
)</pre><ul>
<li><p>N-GObject $widget; the widget to align the menu with</p></li>
<li><p>GdkGravity $widget_anchor; the point on <em>$widget</em> to align with the menu's anchor point</p></li>
<li><p>GdkGravity $menu_anchor; the point on the menu to align with <em>$widget</em>'s anchor point</p></li>
<li><p>N-GdkEvent $trigger_event; (nullable): the <em>N-GdkEvent</em> that initiated this request or <code>Any</code> if it's the current event</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_popup_at_pointer"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] popup_at_pointer</a></h2>
<p>Displays <em>menu</em> and makes it available for selection.</p><p>See <code>gtk_menu_popup_at_widget()</code> to pop up a menu at a widget. <code>gtk_menu_popup_at_rect()</code> also allows you to position a menu at an arbitrary rectangle.</p><p><em>menu</em> will be positioned at the pointer associated with <em>trigger_event</em>.</p><p>Properties that influence the behaviour of this function are <em>anchor-hints</em>, <em>rect-anchor-dx</em>, <em>rect-anchor-dy</em>, and <em>menu-type-hint</em>. Connect to the <em>popped-up</em> signal to find out how it was actually positioned.</p><pre class="pod-block-code">method gtk_menu_popup_at_pointer ( N-GdkEvent $trigger_event )</pre><ul>
<li><p>N-GdkEvent $trigger_event; (nullable): the <strong>Gnome::Gdk3::Event</strong> that initiated this request or <code>Any</code> if it's the current event</p></li>
</ul>

<h2 id="[gtk_]_menu_reposition"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[gtk_] menu_reposition</a></h2>
<p>Repositions the menu according to its position function.</p><pre class="pod-block-code">method gtk_menu_reposition ( )</pre>
<h2 id="[gtk_]_menu_popdown"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[gtk_] menu_popdown</a></h2>
<p>Removes the menu from the screen.</p><pre class="pod-block-code">method gtk_menu_popdown ( )</pre>
<h2 id="[[gtk_]_menu_]_get_active"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_active</a></h2>
<p>Returns the selected menu item from the menu. This is used by the <strong>Gnome::Gtk3::ComboBox</strong>.</p><p>Returns: (transfer none): the <strong>Gnome::Gtk3::MenuItem</strong> that was last selected in the menu. If a selection has not yet been made, the first menu item is selected.</p><pre class="pod-block-code">method gtk_menu_get_active ( --&gt; N-GObject  )</pre>
<h2 id="[[gtk_]_menu_]_set_active"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_active</a></h2>
<p>Selects the specified menu item within the menu. This is used by the <strong>Gnome::Gtk3::ComboBox</strong> and should not be used by anyone else.</p><pre class="pod-block-code">method gtk_menu_set_active ( UInt $index )</pre><ul>
<li><p>UInt $index; the index of the menu item to select. Index values are from 0 to n-1</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_set_accel_group"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_accel_group</a></h2>
<p>Set the <strong>Gnome::Gtk3::AccelGroup</strong> which holds global accelerators for the menu. This accelerator group needs to also be added to all windows that this menu is being used in with <code>gtk_window_add_accel_group()</code>, in order for those windows to support all the accelerators contained in this group.</p><pre class="pod-block-code">method gtk_menu_set_accel_group ( N-GObject $accel_group )</pre><ul>
<li><p>N-GObject $accel_group; (allow-none): the <strong>Gnome::Gtk3::AccelGroup</strong> to be associated with the menu.</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_get_accel_group"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_accel_group</a></h2>
<p>Gets the <strong>Gnome::Gtk3::AccelGroup</strong> which holds global accelerators for the menu. See <code>gtk_menu_set_accel_group()</code>.</p><p>Returns: (transfer none): the <strong>Gnome::Gtk3::AccelGroup</strong> associated with the menu</p><pre class="pod-block-code">method gtk_menu_get_accel_group ( --&gt; N-GObject  )</pre>
<h2 id="[[gtk_]_menu_]_set_accel_path"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_accel_path</a></h2>
<p>Sets an accelerator path for this menu from which accelerator paths for its immediate children, its menu items, can be constructed. The main purpose of this function is to spare the programmer the inconvenience of having to call <code>gtk_menu_item_set_accel_path()</code> on each menu item that should support runtime user changable accelerators. Instead, by just calling <code>gtk_menu_set_accel_path()</code> on their parent, each menu item of this menu, that contains a label describing its purpose, automatically gets an accel path assigned.</p><p>For example, a menu containing menu items “New” and “Exit”, will, after `gtk_menu_set_accel_path (menu, &quot;&lt;Gnumeric-Sheet&gt;/File&quot;);` has been called, assign its items the accel paths: `&quot;&lt;Gnumeric-Sheet&gt;/File/New&quot;` and `&quot;&lt;Gnumeric-Sheet&gt;/File/Exit&quot;`.</p><p>Assigning accel paths to menu items then enables the user to change their accelerators at runtime. More details about accelerator paths and their default setups can be found at <code>gtk_accel_map_add_entry()</code>.</p><p>Note that <em>accel_path</em> string will be stored in a <strong>GQuark</strong>. Therefore, if you pass a static string, you can save some memory by interning it first with <code>g_intern_static_string()</code>.</p><pre class="pod-block-code">method gtk_menu_set_accel_path ( Str $accel_path )</pre><ul>
<li><p>Str $accel_path; (allow-none): a valid accelerator path</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_get_accel_path"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_accel_path</a></h2>
<p>Retrieves the accelerator path set on the menu.</p><p>Returns: the accelerator path set on the menu.</p><pre class="pod-block-code">method gtk_menu_get_accel_path ( --&gt; Str  )</pre>
<h2 id="[[gtk_]_menu_]_attach_to_widget"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] attach_to_widget</a></h2>
<p>Attaches the menu to the widget and provides a callback function that will be invoked when the menu calls <code>gtk_menu_detach()</code> during its destruction.</p><p>If the menu is attached to the widget then it will be destroyed when the widget is destroyed, as if it was a child widget. An attached menu will also move between screens correctly if the widgets moves between screens.</p><pre class="pod-block-code">method gtk_menu_attach_to_widget ( N-GObject $attach_widget, GtkMenuDetachFunc $detacher )</pre><ul>
<li><p>N-GObject $attach_widget; the <strong>Gnome::Gtk3::Widget</strong> that the menu will be attached to</p></li>
<li><p>GtkMenuDetachFunc $detacher; (scope async)(allow-none): the user supplied callback function that will be called when the menu calls <code>gtk_menu_detach()</code></p></li>
</ul>

<h2 id="[gtk_]_menu_detach"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[gtk_] menu_detach</a></h2>
<p>Detaches the menu from the widget to which it had been attached. This function will call the callback function, <em>detacher</em>, provided when the <code>gtk_menu_attach_to_widget()</code> function was called.</p><pre class="pod-block-code">method gtk_menu_detach ( )</pre>
<h2 id="[[gtk_]_menu_]_get_attach_widget"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_attach_widget</a></h2>
<p>Returns the <strong>Gnome::Gtk3::Widget</strong> that the menu is attached to.</p><p>Returns: (transfer none): the <strong>Gnome::Gtk3::Widget</strong> that the menu is attached to</p><pre class="pod-block-code">method gtk_menu_get_attach_widget ( --&gt; N-GObject  )</pre>
<h2 id="[[gtk_]_menu_]_reorder_child"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] reorder_child</a></h2>
<p>Moves <em>child</em> to a new <em>position</em> in the list of <em>menu</em> children.</p><pre class="pod-block-code">method gtk_menu_reorder_child ( N-GObject $child, Int $position )</pre><ul>
<li><p>N-GObject $child; the <strong>Gnome::Gtk3::MenuItem</strong> to move</p></li>
<li><p>Int $position; the new position to place <em>child</em>. Positions are numbered from 0 to n - 1</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_set_screen"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_screen</a></h2>
<p>Sets the <strong>Gnome::Gdk3::Screen</strong> on which the menu will be displayed.</p><pre class="pod-block-code">method gtk_menu_set_screen ( N-GObject $screen )</pre><ul>
<li><p>N-GObject $screen; (allow-none): a <strong>Gnome::Gdk3::Screen</strong>, or <code>Any</code> if the screen should be determined by the widget the menu is attached to</p></li>
</ul>

<h2 id="[gtk_]_menu_attach"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[gtk_] menu_attach</a></h2>
<p>Adds a new <strong>Gnome::Gtk3::MenuItem</strong> to a (table) menu. The number of “cells” that an item will occupy is specified by <em>left_attach</em>, <em>right_attach</em>, <em>top_attach</em> and <em>bottom_attach</em>. These each represent the leftmost, rightmost, uppermost and lower column and row numbers of the table. (Columns and rows are indexed from zero).</p><p>Note that this function is not related to <code>gtk_menu_detach()</code>.</p><pre class="pod-block-code">method gtk_menu_attach ( N-GObject $child, UInt $left_attach, UInt $right_attach, UInt $top_attach, UInt $bottom_attach )</pre><ul>
<li><p>N-GObject $child; a <strong>Gnome::Gtk3::MenuItem</strong></p></li>
<li><p>UInt $left_attach; The column number to attach the left side of the item to</p></li>
<li><p>UInt $right_attach; The column number to attach the right side of the item to</p></li>
<li><p>UInt $top_attach; The row number to attach the top of the item to</p></li>
<li><p>UInt $bottom_attach; The row number to attach the bottom of the item to</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_set_monitor"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_monitor</a></h2>
<p>Informs GTK+ on which monitor a menu should be popped up. See <code>gdk_monitor_get_geometry()</code>.</p><p>This function should be called from a <strong>Gnome::Gtk3::MenuPositionFunc</strong> if the menu should not appear on the same monitor as the pointer. This information can’t be reliably inferred from the coordinates returned by a <strong>Gnome::Gtk3::MenuPositionFunc</strong>, since, for very long menus, these coordinates may extend beyond the monitor boundaries or even the screen boundaries.</p><pre class="pod-block-code">method gtk_menu_set_monitor ( Int $monitor_num )</pre><ul>
<li><p>Int $monitor_num; the number of the monitor on which the menu should be popped up</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_get_monitor"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_monitor</a></h2>
<p>Retrieves the number of the monitor on which to show the menu.</p><p>Returns: the number of the monitor on which the menu should be popped up or -1, if no monitor has been set</p><pre class="pod-block-code">method gtk_menu_get_monitor ( --&gt; Int  )</pre>
<h2 id="[[gtk_]_menu_]_place_on_monitor"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] place_on_monitor</a></h2>
<pre class="pod-block-code">method gtk_menu_place_on_monitor ( N-GObject $monitor )</pre><ul>
<li><p>N-GObject $monitor;</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_get_for_attach_widget"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_for_attach_widget</a></h2>
<p>Returns a list of the menus which are attached to this widget. This list is owned by GTK+ and must not be modified.</p><p>Returns: (element-type <strong>Gnome::Gtk3::Widget</strong>) (transfer none): the list of menus attached to his widget.</p><pre class="pod-block-code">method gtk_menu_get_for_attach_widget ( N-GObject $widget --&gt; N-GList  )</pre><ul>
<li><p>N-GObject $widget; a <strong>Gnome::Gtk3::Widget</strong></p></li>
</ul>

<h2 id="[[gtk_]_menu_]_set_reserve_toggle_size"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] set_reserve_toggle_size</a></h2>
<p>Sets whether the menu should reserve space for drawing toggles or icons, regardless of their actual presence.</p><pre class="pod-block-code">method gtk_menu_set_reserve_toggle_size ( Int $reserve_toggle_size )</pre><ul>
<li><p>Int $reserve_toggle_size; whether to reserve size for toggles</p></li>
</ul>

<h2 id="[[gtk_]_menu_]_get_reserve_toggle_size"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">[[gtk_] menu_] get_reserve_toggle_size</a></h2>
<p>Returns whether the menu reserves space for toggles and icons, regardless of their actual presence.</p><p>Returns: Whether the menu reserves toggle space</p><pre class="pod-block-code">method gtk_menu_get_reserve_toggle_size ( --&gt; Int  )</pre>
<h1 id="Signals"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Signals</a></h1>
<p>There are two ways to connect to a signal. The first option you have is to use <code>register-signal()</code> from <strong>Gnome::GObject::Object</strong>. The second option is to use <code>g_signal_connect_object()</code> directly from <strong>Gnome::GObject::Signal</strong>.</p>
<h2 id="First_method"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">First method</a></h2>
<p>The positional arguments of the signal handler are all obligatory as well as their types. The named attributes <code>:$widget</code> and user data are optional.</p><pre class="pod-block-code"># handler method
method mouse-event ( N-GdkEvent $event, :$widget ) { ... }

# connect a signal on window object
my Gnome::Gtk3::Window $w .= new( ... );
$w.register-signal( self, 'mouse-event', 'button-press-event');</pre>
<h2 id="Second_method"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Second method</a></h2>
<pre class="pod-block-code">my Gnome::Gtk3::Window $w .= new( ... );
my Callable $handler = sub (
  N-GObject $native, N-GdkEvent $event, OpaquePointer $data
) {
  ...
}

$w.connect-object( 'button-press-event', $handler);</pre><p>Also here, the types of positional arguments in the signal handler are important. This is because both methods <code>register-signal()</code> and <code>g_signal_connect_object()</code> are using the signatures of the handler routines to setup the native call interface.</p>
<h2 id="Supported_signals"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Supported signals</a></h2>

<h3 id="move-scroll"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">move-scroll</a></h3>
<pre class="pod-block-code">method handler (
  Unknown type GTK_TYPE_SCROLL_TYPE $scroll_type,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($menu),
  *%user-options
);</pre><ul>
<li><p>$menu; a <strong>Gnome::Gtk3::Menu</strong></p></li>
<li><p>$scroll_type; a <strong>Gnome::Gtk3::ScrollType</strong></p></li>
</ul>

<h3 id="popped-up"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">popped-up</a></h3>
<p>Emitted when the position of <em>menu</em> is finalized after being popped up using <code>gtk_menu_popup_at_rect()</code>, <code>gtk_menu_popup_at_widget()</code>, or <code>gtk_menu_popup_at_pointer()</code>.</p><p><em>menu</em> might be flipped over the anchor rectangle in order to keep it on-screen, in which case <em>flipped_x</em> and <em>flipped_y</em> will be set to <code>1</code> accordingly.</p><p><em>flipped_rect</em> is the ideal position of <em>menu</em> after any possible flipping, but before any possible sliding. <em>final_rect</em> is <em>flipped_rect</em>, but possibly translated in the case that flipping is still ineffective in keeping <em>menu</em> on-screen.</p><div class="image-container inline"><img src="asset_files/images/popup-slide.png" width="30%" height="auto" alt="No caption"></div>
<p>The blue menu is <em>menu</em>'s ideal position, the green menu is <em>flipped_rect</em>, and the red menu is <em>final_rect</em>.</p><p>See <code>gtk_menu_popup_at_rect()</code>, <code>gtk_menu_popup_at_widget()</code>, <code>gtk_menu_popup_at_pointer()</code>, <em>anchor-hints</em>, <em>rect-anchor-dx</em>, <em>rect-anchor-dy</em>, and <em>menu-type-hint</em>.</p><pre class="pod-block-code">method handler (
  Unknown type G_TYPE_POINTER $flipped_rect,
  Unknown type G_TYPE_POINTER $final_rect,
  Int $flipped_x,
  Int $flipped_y,
  Int :$_handler_id,
  Gnome::GObject::Object :_widget($menu),
  *%user-options
);</pre><ul>
<li><p>$menu; the <strong>Gnome::Gtk3::Menu</strong> that popped up</p></li>
<li><p>$flipped_rect; (nullable): the position of <em>menu</em> after any possible flipping or <code>Any</code> if the backend can't obtain it</p></li>
<li><p>$final_rect; (nullable): the final position of <em>menu</em> or <code>Any</code> if the backend can't obtain it</p></li>
<li><p>$flipped_x; <code>1</code> if the anchors were flipped horizontally</p></li>
<li><p>$flipped_y; <code>1</code> if the anchors were flipped vertically</p></li>
</ul>

<h1 id="Properties"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Properties</a></h1>
<p>An example of using a string type property of a <strong>Gnome::Gtk3::Label</strong> object. This is just showing how to set/read a property, not that it is the best way to do it. This is because a) The class initialization often provides some options to set some of the properties and b) the classes provide many methods to modify just those properties. In the case below one can use <strong>new(:label('my text label'))</strong> or <strong>gtk_label_set_text('my text label')</strong>.</p><pre class="pod-block-code">my Gnome::Gtk3::Label $label .= new;
my Gnome::GObject::Value $gv .= new(:init(G_TYPE_STRING));
$label.g-object-get-property( 'label', $gv);
$gv.g-value-set-string('my text label');</pre>
<h2 id="Supported_properties"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Supported properties</a></h2>

<h3 id="Active"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Active</a></h3>
<p>The index of the currently selected menu item, or -1 if no menu item is selected.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>active</em> is <code>G_TYPE_INT</code>.</p>
<h3 id="Accel_Group"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Accel Group</a></h3>
<p>The accel group holding accelerators for the menu.</p><p>Widget type: GTK_TYPE_ACCEL_GROUP</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>accel-group</em> is <code>G_TYPE_OBJECT</code>.</p>
<h3 id="Accel_Path"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Accel Path</a></h3>
<p>An accel path used to conveniently construct accel paths of child items.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>accel-path</em> is <code>G_TYPE_STRING</code>.</p>
<h3 id="Attach_Widget"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Attach Widget</a></h3>
<p>The widget the menu is attached to. Setting this property attaches the menu without a <strong>Gnome::Gtk3::MenuDetachFunc</strong>. If you need to use a detacher, use <code>gtk_menu_attach_to_widget()</code> directly.</p><p>Widget type: GTK_TYPE_WIDGET</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>attach-widget</em> is <code>G_TYPE_OBJECT</code>.</p>
<h3 id="Monitor"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Monitor</a></h3>
<p>The monitor the menu will be popped up on.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>monitor</em> is <code>G_TYPE_INT</code>.</p>
<h3 id="Reserve_Toggle_Size"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Reserve Toggle Size</a></h3>
<p>A boolean that indicates whether the menu reserves space for toggles and icons, regardless of their actual presence. This property should only be changed from its default value for special-purposes such as tabular menus. Regular menus that are connected to a menu bar or context menus should reserve toggle space for consistency.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>reserve-toggle-size</em> is <code>G_TYPE_BOOLEAN</code>.</p>
<h3 id="Anchor_hints"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Anchor hints</a></h3>
<p>Positioning hints for aligning the menu relative to a rectangle. These hints determine how the menu should be positioned in the case that the menu would fall off-screen if placed in its ideal position.</p><div class="image-container inline"><img src="asset_files/images/popup-flip.png" width="30%" height="auto" alt="No caption"></div>
<p>The <strong>Gnome::GObject::Value</strong> type of property <em>anchor-hints</em> is <code>G_TYPE_FLAGS</code>.</p>
<h3 id="Rect_anchor_dx"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Rect anchor dx</a></h3>
<p>Horizontal offset to apply to the menu, i.e. the rectangle or widget anchor. See <code>gtk_menu_popup_at_rect()</code>, <code>gtk_menu_popup_at_widget()</code>, <code>gtk_menu_popup_at_pointer()</code>, <em>anchor-hints</em>, <em>rect-anchor-dy</em>, <em>menu-type-hint</em>, and <em>popped-up</em>.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>rect-anchor-dx</em> is <code>G_TYPE_INT</code>.</p>
<h3 id="Rect_anchor_dy"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Rect anchor dy</a></h3>
<p>Vertical offset to apply to the menu, i.e. the rectangle or widget anchor. See <code>gtk_menu_popup_at_rect()</code>, <code>gtk_menu_popup_at_widget()</code>, <code>gtk_menu_popup_at_pointer()</code>, <em>anchor-hints</em>, <em>rect-anchor-dx</em>, <em>menu-type-hint</em>, and <em>popped-up</em>.</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>rect-anchor-dy</em> is <code>G_TYPE_INT</code>.</p>
<h3 id="Menu_type_hint"><a href="#Gnome::Gtk3::Menu" class="u" title="go to top of document">Menu type hint</a></h3>
<p>The <strong>Gnome::Gdk3::WindowTypeHint</strong> to use for the menu's <strong>Gnome::Gdk3::Window</strong>. See <code>gtk_menu_popup_at_rect()</code>, <code>gtk_menu_popup_at_widget()</code>, <code>gtk_menu_popup_at_pointer()</code>, <em>anchor-hints</em>, <em>rect-anchor-dx</em>, <em>rect-anchor-dy</em>, and <em>popped-up</em>. Widget type: GDK_TYPE_WINDOW_TYPE_HINT</p><p>The <strong>Gnome::GObject::Value</strong> type of property <em>menu-type-hint</em> is <code>G_TYPE_ENUM</code>.</p></section>		</div>
</div><footer><div>Rendered from <span class="path">/home/marcel/Languages/Raku/Projects/gnome-api1/gnome-gtk3/lib/Gnome/Gtk3/Menu.rakumod</span></div><div>at <span class="time">2025-07-18T18:33:33Z</span></div></footer>
	</body>
</html>
