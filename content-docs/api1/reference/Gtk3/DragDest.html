---
---
<!doctype html>
<html lang="en">
<head>
<title>Gnome::Gtk3::DragDest</title>
<meta charset="UTF-8" />

<link href="asset_files/images/favicon.ico" rel="icon" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-extra.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-styling.css" />

</head>
	<body class="pod">
<header><img src="asset_files/images/gtk-raku.png" id="Camelia_bug"><h2 class="title" id="Gnome::Gtk3::DragDest">Gnome::Gtk3::DragDest</h2></header><div class="pod-content"><nav><div id="_TOC"><table>
<caption>Table of Contents</caption>
<tr class="toc-level-1"><td class="toc-text"><a href="#Description">Description</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Synopsis">Synopsis</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Declaration">Declaration</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Types">Types</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#enum_GtkDestDefaults">enum GtkDestDefaults</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Methods">Methods</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#new">new</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#default,_no_options">default, no options</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#add-image-targets">add-image-targets</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#add-text-targets">add-text-targets</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#add-uri-targets">add-uri-targets</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#find-target">find-target</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-target-list">get-target-list</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-track-motion">get-track-motion</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set">set</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-target-list">set-target-list</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-track-motion">set-track-motion</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#unset">unset</a></td></tr>
</table></div>
</nav><div id=""></div><div class="pod-body">
<section name="___top">
<h1 id="Description"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">Description</a></h1>
<p>GTK+ has a rich set of functions for doing inter-process communication via the drag-and-drop metaphor.</p><p>This module defines the drag destination manipulations</p>
<h1 id="Synopsis"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">Synopsis</a></h1>

<h2 id="Declaration"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">Declaration</a></h2>
<pre class="pod-block-code">unit class Gnome::Gtk3::DragDest;</pre>
<h1 id="Types"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">Types</a></h1>

<h2 id="enum_GtkDestDefaults"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">enum GtkDestDefaults</a></h2>
<p>The <strong>Gnome::Gtk3::DestDefaults</strong> enumeration specifies the various types of action that will be taken on behalf of the user for a drag destination site.</p><ul>
<li><p>GTK_DEST_DEFAULT_NONE: (=0) to select no default.</p></li>
<li><p>GTK-DEST-DEFAULT-MOTION: If set for a widget, GTK+, during a drag over this widget will check if the drag matches this widget’s list of possible targets and actions. GTK+ will then call <code>gdk-drag-status()</code> as appropriate.</p></li>
<li><p>GTK-DEST-DEFAULT-HIGHLIGHT: If set for a widget, GTK+ will draw a highlight on this widget as long as a drag is over this widget and the widget drag format and action are acceptable.</p></li>
<li><p>GTK-DEST-DEFAULT-DROP: If set for a widget, when a drop occurs, GTK+ will will check if the drag matches this widget’s list of possible targets and actions. If so, GTK+ will call <code>gtk-drag-get-data()</code> on behalf of the widget. Whether or not the drop is successful, GTK+ will call <code>gtk-drag-finish()</code>. If the action was a move, then if the drag was successful, then <code>True</code> will be passed for the <em>delete</em> parameter to <code>gtk-drag-finish()</code>.</p></li>
<li><p>GTK-DEST-DEFAULT-ALL: If set, specifies that all default actions should be taken.</p></li>
</ul>

<h1 id="Methods"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">Methods</a></h1>

<h2 id="new"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">new</a></h2>

<h3 id="default,_no_options"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">default, no options</a></h3>
<p>Create a new DragDest object.</p><pre class="pod-block-code">multi method new ( )</pre><p>This object does not wrap a native object into this Raku object because it does not need one. Therefore no option like <code>:native-object</code> is needed.</p>
<h2 id="add-image-targets"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">add-image-targets</a></h2>
<p>Add the image targets supported by <strong>Gnome::Gtk3::SelectionData</strong> to the target list of the drag destination. The targets are added with <em>info</em> = 0. If you need another value, use <code>gtk-target-list-add-image-targets()</code> and <code>set-target-list()</code>.</p><pre class="pod-block-code">method add-image-targets ( N-GObject() $widget )</pre><ul>
<li><p>$widget; a native <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
</ul>

<h2 id="add-text-targets"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">add-text-targets</a></h2>
<p>Add the text targets supported by <strong>Gnome::Gtk3::SelectionData</strong> to the target list of the drag destination. The targets are added with <em>info</em> = 0. If you need another value, use <code>gtk-target-list-add-text-targets()</code> and <code>set-target-list()</code>.</p><pre class="pod-block-code">method add-text-targets ( N-GObject() $widget )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
</ul>

<h2 id="add-uri-targets"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">add-uri-targets</a></h2>
<p>Add the URI targets supported by <strong>Gnome::Gtk3::SelectionData</strong> to the target list of the drag destination. The targets are added with <em>info</em> = 0. If you need another value, use <code>gtk-target-list-add-uri-targets()</code> and <code>set-target-list()</code>.</p><pre class="pod-block-code">method add-uri-targets ( N-GObject() $widget )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
</ul>

<h2 id="find-target"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">find-target</a></h2>
<p>Looks for a match between the supported targets of <em>context</em> and the <em>dest-target-list</em>, returning the first matching target, otherwise returning <code>GDK-NONE</code>. <em>dest-target-list</em> should usually be the return value from <code>get-target-list()</code>, but some widgets may have different valid targets for different parts of the widget; in that case, they will have to implement a drag-motion handler that passes the correct target list to this function.</p><p>Returns: first target that the source offers and the dest can accept, or <code>GDK-NONE</code></p><pre class="pod-block-code">method find-target (
  N-GObject() $widget, N-GObject() $context,
  N-GObject() $target-list?
  --&gt; N-GObject
)</pre><ul>
<li><p>$widget; drag destination widget</p></li>
<li><p>$context; drag context</p></li>
<li><p>$target-list; list of droppable targets, or <code>undefined</code> to use <code>get-target-list($widget)</code>.</p></li>
</ul>
<p>Previously, it returned a <strong>Gnome::Gdk3::Atom</strong>. To confirm with latest ideas about coercing, the routine now returns a native object. To cope with the change, write the following instead, for example;</p><pre class="pod-block-code">my Gnome::Gdk3::Atom() $target-atom = $!destination.find-target(…);</pre><p>Note the <code>()</code> tacked on the <strong>Gnome::Gdk3::Atom</strong> type! Sorry that I cannot give a deprecation warning because of multis not looking for return types.</p>
<h2 id="get-target-list"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">get-target-list</a></h2>
<p>Returns the list of targets this widget can accept from drag-and-drop.</p><p>Returns: the <strong>Gnome::Gtk3::TargetList</strong>, or <code>undefined</code> if none</p><pre class="pod-block-code">method get-target-list ( N-GObject() $widget --&gt; N-GObject )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong></p></li>
</ul>

<h2 id="get-track-motion"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">get-track-motion</a></h2>
<p>Returns whether the widget has been configured to always emit <em>drag-motion</em> signals.</p><p>Returns: <code>True</code> if the widget always emits <em>drag-motion</em> events</p><pre class="pod-block-code">method get-track-motion ( N-GObject $widget --&gt; Bool )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
</ul>

<h2 id="set"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">set</a></h2>
<p>Sets a widget as a potential drop destination, and adds default behaviors.</p><p>The default behaviors listed in <em>flags</em> have an effect similar to installing default handlers for the widget’s drag-and-drop signals ( <em>drag-motion</em>, <em>drag-drop</em>, ...). They all exist for convenience. When passing <code>GTK-DEST-DEFAULT-ALL</code> for instance it is sufficient to connect to the widget’s <em>drag-data-received</em> signal to get primitive, but consistent drag-and-drop support.</p><p>Things become more complicated when you try to preview the dragged data, as described in the documentation for <em>drag-motion</em>. The default behaviors described by <em>flags</em> make some assumptions, that can conflict with your own signal handlers. For instance <code>GTK-DEST-DEFAULT-DROP</code> causes invokations of <code>gdk-drag-status()</code> in the context of <em>drag-motion</em>, and invokations of <code>gtk-drag-finish()</code> in <em>drag-data-received</em>. Especially the later is dramatic, when your own <em>drag-motion</em> handler calls <code>gtk-drag-get-data()</code> to inspect the dragged data.</p><p>There’s no way to set a default action here, you can use the <em>drag-motion</em> callback for that.</p><p>The method API is</p><pre class="pod-block-code">multi method set (
  N-GObject() $widget, Int() $flags,
  Array[N-GtkTargetEntry] $targets, Int() $actions
)</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong></p></li>
<li><p>$flags; which types of default drag behavior to use. Bits are from enum GtkDestDefaults.</p></li>
<li><p>$targets; an array of native <strong>Gnome::Gtk3::TargetEntry</strong> targets indicating the drop types that this <em>widget</em> will accept. Later you can access the list with <code>get-target-list()</code> and <code>find-target()</code>, or an empty array.</p></li>
<li><p>$actions; a bitmask of possible actions for a drop onto this <em>widget</em>. Bits are from enum GdkDragAction defined in <strong>Gnome::Gdk3::DragContext</strong>.</p></li>
</ul>

<h2 id="set-target-list"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">set-target-list</a></h2>
<p>Sets the target types that this widget can accept from drag-and-drop. The widget must first be made into a drag destination with <code>set()</code>.</p><pre class="pod-block-code">method set-target-list ( N-GObject() $widget, N-GtkTargetList $target-list )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
<li><p>$target-list; list of droppable targets, or <code>undefined</code> for none</p></li>
</ul>

<h2 id="set-track-motion"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">set-track-motion</a></h2>
<p>Tells the widget to emit <em>drag-motion</em> and <em>drag-leave</em> events regardless of the targets and the <code>GTK-DEST-DEFAULT-MOTION</code> flag.</p><p>This may be used when a widget wants to do generic actions regardless of the targets that the source offers.</p><pre class="pod-block-code">method set-track-motion ( N-GObject() $widget, Bool $track_motion )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong> that’s a drag destination</p></li>
<li><p>$track_motion; whether to accept all targets</p></li>
</ul>

<h2 id="unset"><a href="#Gnome::Gtk3::DragDest" class="u" title="go to top of document">unset</a></h2>
<p>Clears information about a drop destination set with <code>set()</code>. The widget will no longer receive notification of drags.</p><pre class="pod-block-code">method unset ( N-GObject() $widget )</pre><ul>
<li><p>$widget; a <strong>Gnome::Gtk3::Widget</strong></p></li>
</ul>
</section>		</div>
</div><footer><div>Rendered from <span class="path">/home/marcel/Languages/Raku/Projects/gnome-api1/gnome-gtk3/lib/Gnome/Gtk3/DragDest.rakumod</span></div><div>at <span class="time">2025-07-18T18:33:10Z</span></div></footer>
	</body>
</html>
