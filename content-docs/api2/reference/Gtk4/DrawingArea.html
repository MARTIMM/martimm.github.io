---
---
<!doctype html>
<html lang="en">
<head>
<title>Gnome::Gtk4::DrawingArea</title>
<meta charset="UTF-8" />

<link href="asset_files/images/favicon.ico" rel="icon" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-extra.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-styling.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/font-awesome.min.css" />

</head>
	<body class="pod">
<header><img src="asset_files/images/gtk-raku.png" id="Camelia_bug"><h2 class="title" id="Gnome::Gtk4::DrawingArea">Gnome::Gtk4::DrawingArea</h2></header><div class="pod-content"><nav><div id="_TOC"><table>
<caption>Table of Contents</caption>
<tr class="toc-level-1"><td class="toc-text"><a href="#Description">Description</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#"></a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#Simple_GtkDrawingArea_usage">Simple GtkDrawingArea usage</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#Uml_Diagram">Uml Diagram</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#"></a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Class_initialization">Class initialization</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#new">new</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#:native-object">:native-object</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#new-drawingarea">new-drawingarea</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Methods">Methods</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-content-height">get-content-height</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-content-width">get-content-width</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-content-height">set-content-height</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-content-width">set-content-width</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-draw-func">set-draw-func</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Signals">Signals</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#resize">resize</a></td></tr>
</table></div>
</nav><div id=""></div><div class="pod-body">
<section name="___top">
<h1 id="Description"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Description</a></h1>
<p><strong>Gnome::Gtk4::DrawingArea</strong> is a widget that allows drawing with cairo.</p><div class="image-container inline"><img src="asset_files/images/drawingarea.png" width="30%" height="auto" alt="No caption"></div>
<p>It’s essentially a blank widget; you can draw on it. After creating a drawing area, the application may want to connect to:</p><ul>
<li><p>The <em>realize defined in Widget</em> signal to take any necessary actions when the widget is instantiated on a particular display. (Create GDK resources in response to this signal.)</p></li>
<li><p>The <em>resize</em> signal to take any necessary actions when the widget changes size.</p></li>
<li><p>Call <code>.set-draw-func()</code> to handle redrawing the contents of the widget.</p></li>
</ul>
<p>The following code portion demonstrates using a drawing area to display a circle in the normal widget foreground color.</p>
<h3 id="Simple_GtkDrawingArea_usage"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Simple GtkDrawingArea usage</a></h3>
<p>The draw function is normally called when a drawing area first comes onscreen, or when it’s covered by another window and then uncovered. You can also force a redraw by adding to the “damage region” of the drawing area’s window using <code>.queue-draw()</code> in class <code>Gnome::Gtk4::Widget</code>. This will cause the drawing area to call the draw function again.</p><p>The available routines for drawing are documented in the [Cairo documentation](https://www.cairographics.org/manual/); GDK offers additional API to integrate with Cairo, like <code>.cairo-set-source-rgba() in package Gnome::Gdk</code> or <code>.cairo-set-source-pixbuf() in package Gnome::Gdk</code>.</p><p>To receive mouse events on a drawing area, you will need to use event controllers. To receive keyboard events, you will need to set the “can-focus” property on the drawing area, and you should probably draw some user-visible indication that the drawing area is focused.</p><p>If you need more complex control over your widget, you should consider creating your own <strong>Gnome::Gtk4::Widget</strong> subclass.</p>
<h2 id="Uml_Diagram"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Uml Diagram</a></h2>
<div class="image-container inline"><img src="asset_files/images/plantuml/DrawingArea.png" width="70%" height="auto" alt="No caption"></div>
</section>
<section name="pod">
<h1 id="Class_initialization"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Class initialization</a></h1>

<h2 id="new"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">new</a></h2>

<h3 id=":native-object"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">:native-object</a></h3>
<p>Create an object using a native object from an object of the same type found elsewhere. See also <strong>Gnome::N::TopLevelSupportClass</strong>.</p><pre class="pod-block-code">multi method new ( N-Object() :$native-object! )</pre></section>
<section name="pod">
<h2 id="new-drawingarea"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">new-drawingarea</a></h2>
<p>Creates a new drawing area.</p><pre class="pod-block-code">method new-drawingarea ( --&gt; Gnome::Gtk4::DrawingArea )
</pre></section>
<section name="pod">
<h1 id="Methods"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Methods</a></h1>
</section>
<section name="pod">
<h2 id="get-content-height"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">get-content-height</a></h2>
<p>Retrieves the content height of the <strong>Gnome::Gtk4::DrawingArea</strong>.</p><pre class="pod-block-code">method get-content-height (--&gt; Int )
</pre><p>Return value; The height requested for content of the drawing area. </p></section>
<section name="pod">
<h2 id="get-content-width"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">get-content-width</a></h2>
<p>Retrieves the content width of the <strong>Gnome::Gtk4::DrawingArea</strong>.</p><pre class="pod-block-code">method get-content-width (--&gt; Int )
</pre><p>Return value; The width requested for content of the drawing area. </p></section>
<section name="pod">
<h2 id="set-content-height"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">set-content-height</a></h2>
<p>Sets the desired height of the contents of the drawing area.</p><p>Note that because widgets may be allocated larger sizes than they requested, it is possible that the actual height passed to your draw function is larger than the height set here. You can use <code>.set-valign()</code> in class <code>Gnome::Gtk4::Widget</code> to avoid that.</p><p>If the height is set to 0 (the default), the drawing area may disappear.</p><pre class="pod-block-code">method set-content-height ( Int() $height )
</pre><ul>
<li><p>$height; the height of contents.</p></li>
</ul>
</section>
<section name="pod">
<h2 id="set-content-width"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">set-content-width</a></h2>
<p>Sets the desired width of the contents of the drawing area.</p><p>Note that because widgets may be allocated larger sizes than they requested, it is possible that the actual width passed to your draw function is larger than the width set here. You can use <code>.set-halign()</code> in class <code>Gnome::Gtk4::Widget</code> to avoid that.</p><p>If the width is set to 0 (the default), the drawing area may disappear.</p><pre class="pod-block-code">method set-content-width ( Int() $width )
</pre><ul>
<li><p>$width; the width of contents.</p></li>
</ul>
</section>
<section name="pod">
<h2 id="set-draw-func"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">set-draw-func</a></h2>
<p>Setting a draw function is the main thing you want to do when using a drawing area.</p><p>The draw function is called whenever GTK needs to draw the contents of the drawing area to the screen.</p><p>The draw function will be called during the drawing stage of GTK. In the drawing stage it is not allowed to change properties of any GTK widgets or call any functions that would cause any properties to be changed. You should restrict yourself exclusively to drawing your contents in the draw function.</p><p>If what you are drawing does change, call <code>.queue-draw()</code> in class <code>Gnome::Gtk4::Widget</code> on the drawing area. This will cause a redraw and will call <code>$draw-func</code> again.</p><pre class="pod-block-code">method set-draw-func ( GtkDrawingAreaDrawFunc &amp;draw-func, gpointer $user-data, GDestroyNotify &amp;destroy )
</pre><ul>
<li><p>GtkDrawingAreaDrawFunc &amp;draw-func; callback that lets you draw the drawing area's contents. The function must be specified with the following signature; <code>:( N-Object $drawing-area, Cairo::cairo_t $cr, gint $width, gint $height, gpointer $user-data )</code>.</p></li>
<li><p>$user-data; user data passed to <code>$draw-func</code>.</p></li>
<li><p>GDestroyNotify &amp;destroy; destroy notifier for <code>$user-data</code>. The function must be specified with the following signature; <code>:( gpointer $data )</code>.</p></li>
</ul>
</section>
<section name="pod">
<h1 id="Signals"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">Signals</a></h1>

<h3 id="resize"><a href="#Gnome::Gtk4::DrawingArea" class="u" title="go to top of document">resize</a></h3>
<p>Emitted once when the widget is realized, and then each time the widget is changed while realized.</p><p>This is useful in order to keep state up to date with the widget size, like for instance a backing surface.</p><pre class="pod-block-code">method handler (
  gint $width,
  gint $height,
  Int :$_handle_id,
  N-GObject :$_native-object,
  Gnome::Gtk4::DrawingArea :$_widget,
  *C&lt;user&gt;-options
)
</pre><ul>
<li><p>$width; the width of the viewport.</p></li>
<li><p>$height; the height of the viewport.</p></li>
<li><p>$_handle_id; The registered event handler id.</p></li>
<li><p>$_native-object; The native object provided by the Raku object which registered this event. This a native <strong>Gnome::Gtk4::DrawingArea</strong> object.</p></li>
<li><p>$_widget; The object which registered the signal. User code may have left the object going out of scope.</p></li>
<li><p><code>user</code>-options; A list of named arguments provided at the <code>.register-signal()</code> method from <strong>Gnome::GObject::Object</strong>.</p></li>
</ul>
</section>		</div>
</div><footer><div>Rendered from <span class="path">/home/marcel/Languages/Raku/Projects/gnome-source-skim-tool/gnome-api2/gnome-gtk4/doc/DrawingArea.rakudoc</span></div><div>at <span class="time">2025-04-20T11:43:31Z</span></div></footer>
	</body>
</html>
