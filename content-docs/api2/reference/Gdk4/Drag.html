---
---
<!doctype html>
<html lang="en">
<head>
<title>Gnome::Gdk4::Drag</title>
<meta charset="UTF-8" />

<link href="asset_files/images/favicon.ico" rel="icon" type="image/x-icon"/>
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-extra.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/rakudoc-styling.css" />
<link rel="stylesheet" type="text/css" href="asset_files/css/font-awesome.min.css" />

</head>
	<body class="pod">
<header><img src="asset_files/images/gtk-raku.png" id="Camelia_bug"><h2 class="title" id="Gnome::Gdk4::Drag">Gnome::Gdk4::Drag</h2></header><div class="pod-content"><nav><div id="_TOC"><table>
<caption>Table of Contents</caption>
<tr class="toc-level-1"><td class="toc-text"><a href="#Description">Description</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Class_initialization">Class initialization</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#new">new</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#:native-object">:native-object</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Methods">Methods</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#drop-done">drop-done</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-actions">get-actions</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-content">get-content</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-device">get-device</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-display">get-display</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-drag-surface">get-drag-surface</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-formats">get-formats</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-selected-action">get-selected-action</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#get-surface">get-surface</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#set-hotspot">set-hotspot</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Functions">Functions</a></td></tr>
 <tr class="toc-level-2"><td class="toc-text"><a href="#begin">begin</a></td></tr>
 <tr class="toc-level-1"><td class="toc-text"><a href="#Signals">Signals</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#cancel">cancel</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#dnd-finished">dnd-finished</a></td></tr>
 <tr class="toc-level-3"><td class="toc-text"><a href="#drop-performed">drop-performed</a></td></tr>
</table></div>
</nav><div id=""></div><div class="pod-body">
<section name="___top">
<h1 id="Description"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">Description</a></h1>
<p>The <strong>Gnome::Gdk4::Drag</strong> object represents the source of an ongoing DND operation.</p><p>A <strong>Gnome::Gdk4::Drag</strong> is created when a drag is started, and stays alive for duration of the DND operation. After a drag has been started with <a href="/content-docs/api2/reference/Gdk4/T-drag.html#Drag.begin">.Drag.begin().Drag.begin() in package Gnome::Gdk4</a>, the caller gets informed about the status of the ongoing drag operation with signals on the <strong>Gnome::Gdk4::Drag</strong> object.</p><p>GTK provides a higher level abstraction based on top of these functions, and so they are not normally needed in GTK applications. See the &quot;Drag and Drop&quot; section of the GTK documentation for more information.</p></section>
<section name="pod">
<h1 id="Class_initialization"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">Class initialization</a></h1>

<h2 id="new"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">new</a></h2>

<h3 id=":native-object"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">:native-object</a></h3>
<p>Create an object using a native object from an object of the same type found elsewhere. See also <strong>Gnome::N::TopLevelSupportClass</strong>.</p><pre class="pod-block-code">multi method new ( N-Object() :$native-object! )</pre></section>
<section name="pod">
<h1 id="Methods"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">Methods</a></h1>
</section>
<section name="pod">
<h2 id="drop-done"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">drop-done</a></h2>
<p>Informs GDK that the drop ended.</p><p>Passing <code>False</code> for <code>$success</code> may trigger a drag cancellation animation.</p><p>This function is called by the drag source, and should be the last call before dropping the reference to the <code>$drag</code>.</p><p>The <strong>Gnome::Gdk4::Drag</strong> will only take the first <a href="#drop-done">.drop-done()</a> call as effective, if this function is called multiple times, all subsequent calls will be ignored.</p><pre class="pod-block-code">method drop-done ( Bool() $success )
</pre><ul>
<li><p>$success; whether the drag was ultimatively successful.</p></li>
</ul>
</section>
<section name="pod">
<h2 id="get-actions"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-actions</a></h2>
<p>Determines the bitmask of possible actions proposed by the source.</p><pre class="pod-block-code">method get-actions (--&gt; UInt )
</pre><p>Return value; the <code>bit field GdkDragAction defined in Gnome::Gdk4::T-enums</code> flags. </p></section>
<section name="pod">
<h2 id="get-content"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-content</a></h2>
<p>Returns the <a href="/content-docs/api2/reference/Gdk4/ContentProvider.html">Gnome::Gdk4::ContentProvider</a> associated to the <strong>Gnome::Gdk4::Drag</strong> object.</p><pre class="pod-block-code">method get-content (--&gt; N-Object )
</pre><p>Return value; The <a href="/content-docs/api2/reference/Gdk4/ContentProvider.html">Gnome::Gdk4::ContentProvider</a> associated to <code>$drag</code>.. </p></section>
<section name="pod">
<h2 id="get-device"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-device</a></h2>
<p>Returns the <a href="/content-docs/api2/reference/Gdk4/Device.html">Gnome::Gdk4::Device</a> associated to the <strong>Gnome::Gdk4::Drag</strong> object.</p><pre class="pod-block-code">method get-device (--&gt; N-Object )
</pre><p>Return value; The <a href="/content-docs/api2/reference/Gdk4/Device.html">Gnome::Gdk4::Device</a> associated to <code>$drag</code>.. </p></section>
<section name="pod">
<h2 id="get-display"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-display</a></h2>
<p>Gets the <a href="/content-docs/api2/reference/Gdk4/Display.html">Gnome::Gdk4::Display</a> that the drag object was created for.</p><pre class="pod-block-code">method get-display (--&gt; N-Object )
</pre><p>Return value; a <a href="/content-docs/api2/reference/Gdk4/Display.html">Gnome::Gdk4::Display</a>. </p></section>
<section name="pod">
<h2 id="get-drag-surface"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-drag-surface</a></h2>
<p>Returns the surface on which the drag icon should be rendered during the drag operation.</p><p>Note that the surface may not be available until the drag operation has begun. GDK will move the surface in accordance with the ongoing drag operation. The surface is owned by <code>$drag</code> and will be destroyed when the drag operation is over.</p><pre class="pod-block-code">method get-drag-surface (--&gt; N-Object )
</pre><p>Return value; the drag surface. </p></section>
<section name="pod">
<h2 id="get-formats"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-formats</a></h2>
<p>Retrieves the formats supported by this <strong>Gnome::Gdk4::Drag</strong> object.</p><pre class="pod-block-code">method get-formats (--&gt; N-Object )
</pre><p>Return value; a <strong>Gnome::Gdk4::N-ContentFormats</strong>. </p></section>
<section name="pod">
<h2 id="get-selected-action"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-selected-action</a></h2>
<p>Determines the action chosen by the drag destination.</p><pre class="pod-block-code">method get-selected-action (--&gt; UInt )
</pre><p>Return value; a <code>bit field GdkDragAction defined in Gnome::Gdk4::T-enums</code> value. </p></section>
<section name="pod">
<h2 id="get-surface"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">get-surface</a></h2>
<p>Returns the <a href="/content-docs/api2/reference/Gdk4/Surface.html">Gnome::Gdk4::Surface</a> where the drag originates.</p><pre class="pod-block-code">method get-surface (--&gt; N-Object )
</pre><p>Return value; The <a href="/content-docs/api2/reference/Gdk4/Surface.html">Gnome::Gdk4::Surface</a> where the drag originates. </p></section>
<section name="pod">
<h2 id="set-hotspot"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">set-hotspot</a></h2>
<p>Sets the position of the drag surface that will be kept under the cursor hotspot.</p><p>Initially, the hotspot is at the top left corner of the drag surface.</p><pre class="pod-block-code">method set-hotspot ( Int() $hot-x, Int() $hot-y )
</pre><ul>
<li><p>$hot-x; x coordinate of the drag surface hotspot.</p></li>
<li><p>$hot-y; y coordinate of the drag surface hotspot.</p></li>
</ul>
</section>
<section name="pod">
<h1 id="Functions"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">Functions</a></h1>
</section>
<section name="pod">
<h2 id="begin"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">begin</a></h2>
<p>Starts a drag and creates a new drag context for it.</p><p>This function is called by the drag source. After this call, you probably want to set up the drag icon using the surface returned by <a href="#get-drag-surface">.get-drag-surface()</a>.</p><p>This function returns a reference to the <strong>Gnome::Gdk4::Drag</strong> object, but GTK keeps its own reference as well, as long as the DND operation is going on.</p><p>Note: if <code>$actions</code> include <code>GDK_ACTION_MOVE</code>, you need to listen for the <em>dnd-finished</em> signal and delete the data at the source if <a href="#get-selected-action">.get-selected-action()</a> returns <code>GDK_ACTION_MOVE</code>.</p><pre class="pod-block-code">method begin ( N-Object() $surface, N-Object() $device, N-Object() $content, UInt $actions, Num() $dx, Num() $dy --&gt; N-Object )
</pre><ul>
<li><p>$surface; the source surface for this drag.</p></li>
<li><p>$device; the device that controls this drag.</p></li>
<li><p>$content; the offered content.</p></li>
<li><p>$actions; the actions supported by this drag.</p></li>
<li><p>$dx; the x offset to <code>$device</code>'s position where the drag nominally started.</p></li>
<li><p>$dy; the y offset to <code>$device</code>'s position where the drag nominally started.</p></li>
</ul>
<p>Return value; a newly created <strong>Gnome::Gdk4::Drag</strong>. </p></section>
<section name="pod">
<h1 id="Signals"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">Signals</a></h1>

<h3 id="cancel"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">cancel</a></h3>
<p>Emitted when the drag operation is cancelled.</p><pre class="pod-block-code">method handler (
   $reason,
  Int :$_handle_id,
  N-GObject :$_native-object,
  Gnome::Gdk4::Drag :$_widget,
  *%user-options
)
</pre><ul>
<li><p>$reason; The reason the drag was cancelled.</p></li>
<li><p>$_handle_id; The registered event handler id.</p></li>
<li><p>$_native-object; The native object provided by the Raku object which registered this event. This is a native <strong>Gnome::Gdk4::Drag</strong> object.</p></li>
<li><p>%user-options; A list of named arguments provided by <a href="/content-docs/api2/reference/GObject/Gnome.html#register-signal">.register-signal() in class Gnome</a>.</p></li>
</ul>

<h3 id="dnd-finished"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">dnd-finished</a></h3>
<p>Emitted when the destination side has finished reading all data.</p><p>The drag object can now free all miscellaneous data.</p><pre class="pod-block-code">method handler (
  Int :$_handle_id,
  N-GObject :$_native-object,
  Gnome::Gdk4::Drag :$_widget,
  *%user-options
)
</pre><ul>
<li><p>$_handle_id; The registered event handler id.</p></li>
<li><p>$_native-object; The native object provided by the Raku object which registered this event. This is a native <strong>Gnome::Gdk4::Drag</strong> object.</p></li>
<li><p>%user-options; A list of named arguments provided by <a href="/content-docs/api2/reference/GObject/Gnome.html#register-signal">.register-signal() in class Gnome</a>.</p></li>
</ul>

<h3 id="drop-performed"><a href="#Gnome::Gdk4::Drag" class="u" title="go to top of document">drop-performed</a></h3>
<p>Emitted when the drop operation is performed on an accepting client.</p><pre class="pod-block-code">method handler (
  Int :$_handle_id,
  N-GObject :$_native-object,
  Gnome::Gdk4::Drag :$_widget,
  *%user-options
)
</pre><ul>
<li><p>$_handle_id; The registered event handler id.</p></li>
<li><p>$_native-object; The native object provided by the Raku object which registered this event. This is a native <strong>Gnome::Gdk4::Drag</strong> object.</p></li>
<li><p>%user-options; A list of named arguments provided by <a href="/content-docs/api2/reference/GObject/Gnome.html#register-signal">.register-signal() in class Gnome</a>.</p></li>
</ul>
</section>		</div>
</div><footer><div>Rendered from <span class="path">/home/marcel/Languages/Raku/Projects/gnome-source-skim-tool/gnome-api2/gnome-gdk4/doc/Drag.rakudoc</span></div><div>at <span class="time">2025-12-07T20:14:59Z</span></div></footer>
	</body>
</html>
